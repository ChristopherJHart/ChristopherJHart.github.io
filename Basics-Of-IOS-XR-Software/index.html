<!DOCTYPE html><html lang="en" ><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="day-prompt" content="days ago"><meta name="hour-prompt" content="hours ago"><meta name="minute-prompt" content="minutes ago"><meta name="justnow-prompt" content="just now"><meta name="generator" content="Jekyll v4.2.1" /><meta property="og:title" content="Basics of IOS XR Software" /><meta property="og:locale" content="en" /><meta name="description" content="This article highlights the basics of IOS XR software, with the end goal being the education of an individual who desires to understand and upgrade the software of an IOS XR device. Topics that are covered include software types and states, software package downloading, addition, installation, and commission, turbobooting an IOS XR device, and some common caveats an individual might encounter when upgrading or downgrading the software of an IOS XR device." /><meta property="og:description" content="This article highlights the basics of IOS XR software, with the end goal being the education of an individual who desires to understand and upgrade the software of an IOS XR device. Topics that are covered include software types and states, software package downloading, addition, installation, and commission, turbobooting an IOS XR device, and some common caveats an individual might encounter when upgrading or downgrading the software of an IOS XR device." /><link rel="canonical" href="https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/" /><meta property="og:url" content="https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/" /><meta property="og:site_name" content="Christopher Hart" /><meta property="og:type" content="article" /><meta property="article:published_time" content="2017-11-29T00:00:00-05:00" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Basics of IOS XR Software" /><meta name="twitter:site" content="@_ChrisJHart" /><meta name="google-site-verification" content="google_meta_tag_verification" /> <script type="application/ld+json"> {"description":"This article highlights the basics of IOS XR software, with the end goal being the education of an individual who desires to understand and upgrade the software of an IOS XR device. Topics that are covered include software types and states, software package downloading, addition, installation, and commission, turbobooting an IOS XR device, and some common caveats an individual might encounter when upgrading or downgrading the software of an IOS XR device.","url":"https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/","@type":"BlogPosting","headline":"Basics of IOS XR Software","dateModified":"2017-11-29T00:00:00-05:00","datePublished":"2017-11-29T00:00:00-05:00","mainEntityOfPage":{"@type":"WebPage","@id":"https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/"},"@context":"https://schema.org"}</script><title>Basics of IOS XR Software | Christopher Hart</title><link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicons/apple-touch-icon.png"><link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicons/favicon-32x32.png"><link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicons/favicon-16x16.png"><link rel="manifest" href="/assets/img/favicons/site.webmanifest"><link rel="shortcut icon" href="/assets/img/favicons/favicon.ico"><meta name="apple-mobile-web-app-title" content="Christopher Hart"><meta name="application-name" content="Christopher Hart"><meta name="msapplication-TileColor" content="#da532c"><meta name="msapplication-config" content="/assets/img/favicons/browserconfig.xml"><meta name="theme-color" content="#ffffff"><link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://fonts.gstatic.com"><link rel="preconnect" href="https://www.google-analytics.com" crossorigin="use-credentials"><link rel="dns-prefetch" href="https://www.google-analytics.com"><link rel="preconnect" href="https://www.googletagmanager.com" crossorigin="anonymous"><link rel="dns-prefetch" href="https://www.googletagmanager.com"><link rel="preconnect" href="https://cdn.jsdelivr.net"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.11.2/css/all.min.css"><link rel="stylesheet" href="/assets/css/style.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/magnific-popup@1.1.0/dist/magnific-popup.min.css"> <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script><body data-spy="scroll" data-target="#toc"><div id="sidebar" class="d-flex flex-column align-items-end" lang="en"><div class="profile-wrapper text-center"><div id="avatar"> <a href="/" alt="avatar" class="mx-auto"> <img src="https://avatars3.githubusercontent.com/u/13562529" alt="avatar" onerror="this.style.display='none'"> </a></div><div class="site-title mt-3"> <a href="/">Christopher Hart</a></div><div class="site-subtitle font-italic">Documenting my discoveries in the IT world</div></div><ul class="w-100"><li class="nav-item"> <a href="/" class="nav-link"> <i class="fa-fw fas fa-home ml-xl-3 mr-xl-3 unloaded"></i> <span>HOME</span> </a><li class="nav-item"> <a href="/categories/" class="nav-link"> <i class="fa-fw fas fa-stream ml-xl-3 mr-xl-3 unloaded"></i> <span>CATEGORIES</span> </a><li class="nav-item"> <a href="/tags/" class="nav-link"> <i class="fa-fw fas fa-tag ml-xl-3 mr-xl-3 unloaded"></i> <span>TAGS</span> </a><li class="nav-item"> <a href="/archives/" class="nav-link"> <i class="fa-fw fas fa-archive ml-xl-3 mr-xl-3 unloaded"></i> <span>ARCHIVES</span> </a><li class="nav-item"> <a href="/about/" class="nav-link"> <i class="fa-fw ml-xl-3 mr-xl-3 unloaded"></i> <span>ABOUT</span> </a></ul><div class="sidebar-bottom mt-auto d-flex flex-wrap justify-content-center align-items-center"> <a href="https://github.com/ChristopherJHart" aria-label="github" class="order-3" target="_blank" rel="noopener"> <i class="fab fa-github"></i> </a> <a href="https://twitter.com/_ChrisJHart" aria-label="twitter" class="order-4" target="_blank" rel="noopener"> <i class="fab fa-twitter"></i> </a> <a href=" javascript:location.href = 'mailto:' + ['christopherjhart95','gmail.com'].join('@')" aria-label="email" class="order-5" > <i class="fas fa-envelope"></i> </a> <a href="/feed.xml" aria-label="rss" class="order-6" > <i class="fas fa-rss"></i> </a> <span class="icon-border order-2"></span> <span id="mode-toggle-wrapper" class="order-1"> <i class="mode-toggle fas fa-adjust"></i> <script type="text/javascript"> class ModeToggle { static get MODE_KEY() { return "mode"; } static get DARK_MODE() { return "dark"; } static get LIGHT_MODE() { return "light"; } constructor() { if (this.hasMode) { if (this.isDarkMode) { if (!this.isSysDarkPrefer) { this.setDark(); } } else { if (this.isSysDarkPrefer) { this.setLight(); } } } var self = this; /* always follow the system prefers */ this.sysDarkPrefers.addListener(function() { if (self.hasMode) { if (self.isDarkMode) { if (!self.isSysDarkPrefer) { self.setDark(); } } else { if (self.isSysDarkPrefer) { self.setLight(); } } self.clearMode(); } self.updateMermaid(); }); } /* constructor() */ setDark() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.DARK_MODE); } setLight() { $('html').attr(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); sessionStorage.setItem(ModeToggle.MODE_KEY, ModeToggle.LIGHT_MODE); } clearMode() { $('html').removeAttr(ModeToggle.MODE_KEY); sessionStorage.removeItem(ModeToggle.MODE_KEY); } get sysDarkPrefers() { return window.matchMedia("(prefers-color-scheme: dark)"); } get isSysDarkPrefer() { return this.sysDarkPrefers.matches; } get isDarkMode() { return this.mode == ModeToggle.DARK_MODE; } get isLightMode() { return this.mode == ModeToggle.LIGHT_MODE; } get hasMode() { return this.mode != null; } get mode() { return sessionStorage.getItem(ModeToggle.MODE_KEY); } /* get the current mode on screen */ get modeStatus() { if (this.isDarkMode || (!this.hasMode && this.isSysDarkPrefer) ) { return ModeToggle.DARK_MODE; } else { return ModeToggle.LIGHT_MODE; } } updateMermaid() { if (typeof mermaid !== "undefined") { let expectedTheme = (this.modeStatus === ModeToggle.DARK_MODE? "dark" : "default"); let config = { theme: expectedTheme }; /* re-render the SVG › <https://github.com/mermaid-js/mermaid/issues/311#issuecomment-332557344> */ $(".mermaid").each(function() { let svgCode = $(this).prev().children().html(); $(this).removeAttr("data-processed"); $(this).html(svgCode); }); mermaid.initialize(config); mermaid.init(undefined, ".mermaid"); } } flipMode() { if (this.hasMode) { if (this.isSysDarkPrefer) { if (this.isLightMode) { this.clearMode(); } else { this.setLight(); } } else { if (this.isDarkMode) { this.clearMode(); } else { this.setDark(); } } } else { if (this.isSysDarkPrefer) { this.setLight(); } else { this.setDark(); } } this.updateMermaid(); } /* flipMode() */ } /* ModeToggle */ let toggle = new ModeToggle(); $(".mode-toggle").click(function() { toggle.flipMode(); }); </script> </span></div></div><div id="topbar-wrapper" class="row justify-content-center topbar-down"><div id="topbar" class="col-11 d-flex h-100 align-items-center justify-content-between"> <span id="breadcrumb"> <span> <a href="/"> Home </a> </span> <span>Basics of IOS XR Software</span> </span> <i id="sidebar-trigger" class="fas fa-bars fa-fw"></i><div id="topbar-title"> Post</div><i id="search-trigger" class="fas fa-search fa-fw"></i> <span id="search-wrapper" class="align-items-center"> <i class="fas fa-search fa-fw"></i> <input class="form-control" id="search-input" type="search" aria-label="search" autocomplete="off" placeholder="Search..."> <i class="fa fa-times-circle fa-fw" id="search-cleaner"></i> </span> <span id="search-cancel" >Cancel</span></div></div><div id="main-wrapper"><div id="main"><div class="row"><div id="post-wrapper" class="col-12 col-lg-11 col-xl-8"><div class="post pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><h1 data-toc-skip>Basics of IOS XR Software</h1><div class="post-meta text-muted d-flex flex-column"><div> <span class="semi-bold"> Christopher Hart </span> on <span class="timeago " data-toggle="tooltip" data-placement="bottom" title="Wed, Nov 29, 2017, 12:00 AM -0500" >Nov 29, 2017<i class="unloaded">2017-11-29T00:00:00-05:00</i> </span></div><div> <span class="readtime" data-toggle="tooltip" data-placement="bottom" title="3991 words">22 min read</span></div></div><div class="post-content"><p>This article highlights the basics of IOS XR software, with the end goal being the education of an individual who desires to understand and upgrade the software of an IOS XR device. Topics that are covered include software types and states, software package downloading, addition, installation, and commission, turbobooting an IOS XR device, and some common caveats an individual might encounter when upgrading or downgrading the software of an IOS XR device.</p><h2 id="software-types">Software Types</h2><p>Cisco IOS XR software is divided into software packages so that you can select which features run on your router. Each package contains the components to perform a specific set of router functions, such as routing, security, or modular services card (MSC) support. Bundles are groups of packages that can be downloaded as a set. For example, Cisco IOS XR Unicast Routing Core Bundle (known as mini) provides the main packages for use on every router.</p><p>Software packages are divided into two major groups: PIEs, and SMUs.</p><ul><li><p><strong>PIEs (Packet Installation Envelope)</strong> are nonbootable files that contain a single package or a set of packages (called a composite package or bundle). Because the files are nonbootable, they are used to add software package files to a running router. They are distinguishable by the word “pie” within the filename, such as asr9k-fpd-px.pie-5.2.4.</p><li><p><strong>SMUs (Software Maintenance Upgrade)</strong> are nonbootable files that contain fixes for a specific defect. Some SMUs fix one specific defect, while others bundle together multiple fixes for multiple defects. SMUs are created to respond to immediate issues and do not include new features. Typically, SMUs do not have a large impact on router operations. SMU versions are synchronized to the package major, minor, and maintenance versions they upgrade. They are easily distinguishable from PIEs by the defect ID included in the filename as well as the .pie file extension, such as in asr9k-invmgr-5.2.4.CSCuz20763.pie.</p></ul><p>Put simply, PIEs add functionality to the device, while SMUs fix defects.</p><h2 id="software-states">Software States</h2><p>Software packages can have four states: <strong>inactive</strong>, <strong>active</strong>, <strong>committed</strong>, and <strong>superceded</strong>.</p><ul><li><strong>Inactive</strong> indicates that the software package has been added to the device’s repository, but the package is not currently running. Put simply, it is a “staging” point for software packages before they can become active.<li><strong>Active</strong> indicates that the software package is currently running on the device.<li><strong>Committed</strong> indicates that the software package will become active if the device reloads.<li><strong>Superceded</strong> indicates that another software package contains a fix for the same defect as the superceded SMU. The superceded SMU is installed, but no longer necessary and can be removed manually by the user.</ul><p>It is important to note that software packages can be in both the active state and the committed state at the same time. This indicates that the software package is currently running and will continue to run after a chassis reload. This is demonstrated in the output below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
</pre><td class="rouge-code"><pre> RP/0/RSP0/CPU0:ASR9006-PE2#show install summary
 Wed Jan 1 23:41:08.224 UTC
 Default Profile:
 SDRs:
 Owner
 Active Packages:
 disk0:asr9k-services-infra-5.3.4
 disk0:asr9k-9000v-nV-px-5.3.4
 disk0:asr9k-doc-px-5.3.4
 disk0:asr9k-mini-px-5.3.4
 disk0:asr9k-mcast-px-5.3.4
 disk0:asr9k-mpls-px-5.3.4
 disk0:asr9k-services-px-5.3.4
 disk0:asr9k-bng-px-5.3.4
 disk0:asr9k-mgbl-px-5.3.4
 disk0:asr9k-optic-px-5.3.4
 Inactive Packages:
 disk0:asr9k-li-px-5.3.4
 disk0:asr9k-fpd-px-5.3.4
 disk0:asr9k-video-px-5.3.4
 Committed Packages:
 disk0:asr9k-services-infra-5.3.4
 disk0:asr9k-9000v-nV-px-5.3.4
 disk0:asr9k-doc-px-5.3.4
 disk0:asr9k-mini-px-5.3.4
 disk0:asr9k-mcast-px-5.3.4
 disk0:asr9k-mpls-px-5.3.4
 disk0:asr9k-services-px-5.3.4
 disk0:asr9k-bng-px-5.3.4
 disk0:asr9k-mgbl-px-5.3.4
 disk0:asr9k-optic-px-5.3.4
 Superceded Packages:
 No packages.
</pre></table></code></div></div><p>It might be helpful to think of the active state like a device’s running-configuration, while the committed state is a device’s startup-configuration, except the states refer to software packages instead of configuration.</p><p>All active software packages must be of the same version of code. Software packages cannot be mixed between different versions of code. For example, you cannot activate a SMU for 6.1.4 when your active PIEs are for 5.3.4.</p><h2 id="software-package-activation-deactivation-and-committing">Software Package Activation, Deactivation, and Committing</h2><h3 id="software-package-identification">Software Package Identification</h3><p>Before modifying any software packages on an IOS XR device, you should verify that all hardware is in a stable, working state. This can be verified with the <code class="language-plaintext highlighter-rouge">admin show platform</code> command. Stable devices are dictated with a state of <code class="language-plaintext highlighter-rouge">IOS XR RUN</code>, <code class="language-plaintext highlighter-rouge">READY</code>, or <code class="language-plaintext highlighter-rouge">OK</code>.</p><p>The first step to changing IOS XR software packages is to determine what software packages are currently active on the device. This can be easily done with the <code class="language-plaintext highlighter-rouge">show install active summary</code> command, as shown below:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre> RP/0/RSP0/CPU0:ASR9006-PE2#show install active summary
 Wed Jan 1 23:58:16.494 UTC
 Default Profile:
 SDRs:
 Owner
 Active Packages:
 disk0:asr9k-services-infra-5.3.4
 disk0:asr9k-9000v-nV-px-5.3.4
 disk0:asr9k-doc-px-5.3.4
 disk0:asr9k-mini-px-5.3.4
 disk0:asr9k-mcast-px-5.3.4
 disk0:asr9k-mpls-px-5.3.4
 disk0:asr9k-services-px-5.3.4
 disk0:asr9k-bng-px-5.3.4
 disk0:asr9k-mgbl-px-5.3.4
 disk0:asr9k-optic-px-5.3.4
</pre></table></code></div></div><p>In the above output, our device is running 5.3.4 PIEs, and no SMUs. We will need to download the same PIE files for the 6.0.2 version of code in order to upgrade this box to 6.0.2.</p><p>On CCO, PIEs and SMUs are segregated under different software types, as shown below. PIEs can be located under IOS XR Software, while SMUs are located under either “IOS XR Software Maintenance Upgrades (SMU)” or “IOS XR Software Maintenance Upgrades (SMU) Bundles”, depending on the specific SMU.</p><p><img data-proofer-ignore data-src="/images/2017-11-XR-Software-Types.png" alt="" /></p><p>PIE files cannot be downloaded individually – instead, all of the possible PIE files for a version of code are bundled together in a tar file. This is shown in the screenshot below, with the appropriate tar file that we need to download marked:</p><p><img data-proofer-ignore data-src="/images/2017-11-XR-PIE-TAR.png" alt="" /></p><p>Within this tar file, we can see each individual PIE file as shown below.</p><p><img data-proofer-ignore data-src="/images/2017-11-XR-PIE-TAR-2.png" alt="" /></p><p>From here, there are two different paths that can be taken. The first option is to extract each individual necessary PIE file from the tar, upload each one to an FTP server, and add each PIE file as an inactive software package individually. The second option is to extract each individual necessary PIE file from the tar, create a new tar containing the PIE files you need, uploading the custom tar file to the FTP server, and adding the contents of the custom tar file to the device as inactive software packages. Both options are explored in detail further below.</p><p>Before we move forward, take note that the “mini-px.vm” PIE file is not a normal software package. It is a VM image that is used to turboboot the chassis for the purposes of disaster recovery. Do not attempt to install or activate the “mini-px.vm” file as a normal software package.</p><h3 id="adding-software-packages-individually">Adding Software Packages Individually</h3><p>We can extract the individual PIE files needed in order to upgrade our device to 6.0.2, then upload them to an FTP server so that we can transfer them to the device. The specific PIE files needed to upgrade our device are as follows:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre> disk0:asr9k-services-infra-6.0.2
 disk0:asr9k-9000v-nV-px-6.0.2
 disk0:asr9k-doc-px-6.0.2
 disk0:asr9k-mini-px-6.0.2
 disk0:asr9k-mcast-px-6.0.2
 disk0:asr9k-mpls-px-6.0.2
 disk0:asr9k-services-px-6.0.2
 disk0:asr9k-bng-px-6.0.2
 disk0:asr9k-mgbl-px-6.0.2
 disk0:asr9k-optic-px-6.0.2
</pre></table></code></div></div><p>Next, from our device, we need to add each of the desired PIE files to our repository so that they appear in <code class="language-plaintext highlighter-rouge">show install active summary</code> as inactive software packages. We can do this with the <code class="language-plaintext highlighter-rouge">admin install add source ftp://username:password@ftp-server/subdirectory pie-file</code> command, demonstrated below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ASR9006-PE2#admin install add source ftp://username:password@192.0.2.10/XR-602-temp asr9k-mini-px.pie-6.0.2 asr9k-services-px.pie-6.0.2 asr9k-services-infra-px.pie-6.0.2 asr9k-optic-px.pie-6.0.2 asr9k-doc-px.pie-6.0.2 asr9k-bng-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2$
 Wed Jan 1 09:47:30.157 UTC
 Install operation 888 '(admin) install add source /ftp://username:********@192.0.2.10/XR-602-temp/ asr9k-mini-px.pie-6.0.2 asr9k-services-px.pie-6.0.2 asr9k-services-infra-px.pie-6.0.2 asr9k-optic-px.pie-6.0.2 asr9k-doc-px.pie-6.0.2 asr9k-bng-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2
 asr9k-mcast-px.pie-6.0.2 asr9k-mgbl-px.pie-6.0.2 asr9k-k9sec-px.pie-6.0.2 asr9k-asr9000v-nV-px.pie-6.0.2' started by user 'admin' via CLI at 09:47:30 UTC Wed Jan 01 2014.
 The install operation will continue asynchronously.
</pre></table></code></div></div><p>By default, most <code class="language-plaintext highlighter-rouge">admin install</code> commands will perform asynchronously in the background. If you’d like to actively monitor the progress of a command, you can add the <code class="language-plaintext highlighter-rouge">synchronous</code> keyword afterwards. Otherwise, you can monitor the progress of an asynchronous command with the <code class="language-plaintext highlighter-rouge">show install request</code> command.</p><h3 id="adding-software-packages-in-a-tar">Adding Software Packages In A Tar</h3><p>We can extract the individual PIE files needed in order to upgrade our device to 6.0.2, then upload them to an FTP server so that we can transfer them to the device. The specific PIE files needed to upgrade our device are as follows:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
</pre><td class="rouge-code"><pre> disk0:asr9k-services-infra-6.0.2
 disk0:asr9k-9000v-nV-px-6.0.2
 disk0:asr9k-doc-px-6.0.2
 disk0:asr9k-mini-px-6.0.2
 disk0:asr9k-mcast-px-6.0.2
 disk0:asr9k-mpls-px-6.0.2
 disk0:asr9k-services-px-6.0.2
 disk0:asr9k-bng-px-6.0.2
 disk0:asr9k-mgbl-px-6.0.2
 disk0:asr9k-optic-px-6.0.2
</pre></table></code></div></div><p>Next, from our device, we need to add each of the desired PIE files to our repository so that they appear in <code class="language-plaintext highlighter-rouge">show install active summary</code> as inactive software packages. We can do this with the <code class="language-plaintext highlighter-rouge">admin install add source ftp://username:password@ftp-server/subdirectory pie-file</code> command, demonstrated below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ASR9006-PE2#admin install add source ftp://username:password@192.0.2.10/XR-602-temp asr9k-mini-px.pie-6.0.2 asr9k-services-px.pie-6.0.2 asr9k-services-infra-px.pie-6.0.2 asr9k-optic-px.pie-6.0.2 asr9k-doc-px.pie-6.0.2 asr9k-bng-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2$
 Wed Jan 1 09:47:30.157 UTC
 Install operation 888 '(admin) install add source /ftp://username:********@192.0.2.10/XR-602-temp/ asr9k-mini-px.pie-6.0.2 asr9k-services-px.pie-6.0.2 asr9k-services-infra-px.pie-6.0.2 asr9k-optic-px.pie-6.0.2 asr9k-doc-px.pie-6.0.2 asr9k-bng-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2
 asr9k-mcast-px.pie-6.0.2 asr9k-mgbl-px.pie-6.0.2 asr9k-k9sec-px.pie-6.0.2 asr9k-asr9000v-nV-px.pie-6.0.2' started by user 'admin' via CLI at 09:47:30 UTC Wed Jan 01 2014.
 The install operation will continue asynchronously.
</pre></table></code></div></div><p>By default, most <code class="language-plaintext highlighter-rouge">admin install</code> commands will perform asynchronously in the background. If you’d like to actively monitor the progress of a command, you can add the <code class="language-plaintext highlighter-rouge">synchronous</code> keyword afterwards. Otherwise, you can monitor the progress of an asynchronous command with the <code class="language-plaintext highlighter-rouge">show install request</code> command.</p><h3 id="activating-software-packages">Activating Software Packages</h3><p>Once software packages have been added to the device’s repository and appear as inactive packages when the <code class="language-plaintext highlighter-rouge">show install summary</code> command is run, the device can be upgraded to a new version of software by activating the respective packages. The command to do so is <code class="language-plaintext highlighter-rouge">admin install activate disk0:package.pie</code>. This command allows for any number of software packages to be activated by enumerating them within the command, as shown below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#admin install activate disk0:asr9k-services-infra-6.0.2 disk0:asr9k-services-px-6.0.2 disk0:asr9k-mini-px-6.0.2 disk0:asr9k-optic-px-6.0.2 disk0:asr9k-doc-px-6.0.2 disk0:asr9k-bng-px-6.0.2 disk0:asr9k-fpd-px-6.0.2 disk0:asr9k-mpls-px-6.0.2 disk0:asr9k-mcast-px-6.0.2 disk0:asr9k-mgbl-px-6.0.2 disk0:asr9k-k9sec-px-6.0.2 disk0:asr9k-9000v-nV-px-6.0.2
 Thu Jan 2 05:03:52.319 UTC
 RP/0/RSP0/CPU0:Jan 2 05:03:52.453 : instdir[251]: %INSTALL-INSTMGR-6-INSTALL_OPERATION_STARTED : Install operation 917 '(admin) install activate disk0:asr9k-services-infra-6.0.2 disk0:asr9k-services-px-6.0.2 disk0:asr9k-mini-px-6.0.2 disk0:asr9k-optic-px-6.0.2 disk0:asr9k-doc-px-6.0.2 disk0:asr9k-bng-px-6.0.2 disk0:asr9k-fpd-px-6.0.2 disk0:asr9k-mpls-px-6.0.2 disk0:asr9k-mcast-px-6.0.2 Install operation 917 '(admin) install activate disk0:asr9k-services-infra-6.0.2disk0:asr9k-mgbl-px-6.0.2 disk0:asr9k-k9sec-px-6.0.2 disk0:asr9k-9000v-nV-px-...' started by user 'admin'
 disk0:asr9k-services-px-6.0.2 disk0:asr9k-mini-px-6.0.2 disk0:asr9k-optic-px-6.0.2 disk0:asr9k-doc-px-6.0.2 disk0:asr9k-bng-px-6.0.2 disk0:asr9k-fpd-px-6.0.2 disk0:asr9k-mpls-px-6.0.2 disk0:asr9k-mcast-px-6.0.2 disk0:asr9k-mgbl-px-6.0.2 disk0:asr9k-k9sec-px-6.0.2 disk0:asr9k-9000v-nV-px-6.0.2' started by user 'admin' via CLI at 05:03:52 UTC Thu Jan 02 2014.
 Info: This operation will reload the following nodes in parallel:
 Info: 0/RSP0/CPU0 (RP) (SDR: Owner)
 Info: 0/RSP1/CPU0 (RP) (SDR: Owner)
 Info: 0/0/CPU0 (LC) (SDR: Owner)
 Proceed with this install operation (y/n)? [y]
 Info: Install Method: Parallel Reload
 The install operation will continue asynchronously.
</pre></table></code></div></div><p>When changing the software version of the chassis, the chassis will reload once the new version of software packages have been activated. If you are adding a software package to a chassis, but not changing the software version, then the chassis will not typically reload.</p><p>If you have added a large number of software packages to a device’s repository, IOS XR conveniently allows you to perform actions on all of them at once by referring to the install operation ID, which is given to you in the output following an <code class="language-plaintext highlighter-rouge">admin install add</code> command. An example of this is shown below, with the install operation ID bolded.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#admin install add source ftp://username:password@192.0.2.10 asr9k-mini-px.pie-6.0.2 asr9k-services-px.pie-6.0.2 asr9k-services-infra-px.pie-6.0.2 asr9k-optic-px.pie-6.0.2 asr9k-doc-px.pie-6.0.2 asr9k-bng-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2 asr9k-mcast-px.pie-6.0.2 asr9k-mgbl-px.pie-6.0.2 asr9k-k9sec-px.pie-6.0.2 asr9k-asr9000v-nV-px.pie-6.0.2
 Thu Jan 2 04:37:48.487 UTC
 Install operation 916 '(admin) install add source /ftp://username:********@192.0.2.10/ asr9k-mini-px.pie-6.0.2 asr9k-services-px.pie-6.0.2 asr9k-services-infra-px.pie-6.0.2 asr9k-optic-px.pie-6.0.2 asr9k-doc-px.pie-6.0.2 asr9k-bng-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2 asr9k-mcast-px.pie-6.0.2 asr9k-mgbl-px.pie-6.0.2 asr9k-k9sec-px.pie-6.0.2 asr9k-asr9000v-nV-px.pie-6.0.2' started by user 'admin' via CLI at 04:37:48 UTC Thu Jan 02 2014.
 The install operation will continue asynchronously.
</pre></table></code></div></div><p>The command to activate all of the software packages included in an install operation ID is <code class="language-plaintext highlighter-rouge">admin install activate id XXX</code>, where <code class="language-plaintext highlighter-rouge">XXX</code> is the install operation ID given to you by the output of an <code class="language-plaintext highlighter-rouge">admin install add</code> command. An example of this is shown below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
36
37
38
39
40
41
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#admin install add source ftp://username:password@192.0.2.10 asr9k-m$
 Wed Jan 29 22:17:56.249 UTC
 Install operation 484 '(admin) install add source /ftp://username:********@192.0.2.10/
 asr9k-mini-px.pie-6.0.2 asr9k-fpd-px.pie-6.0.2 asr9k-mpls-px.pie-6.0.2
 asr9k-mcast-px.pie-6.0.2 asr9k-mgbl-px.pie-6.0.2 asr9k-k9sec-px.pie-6.0.2
 asr9k-asr9000v-nV-px.pie-6.0.2' started by user 'admin' via CLI at 22:17:56 UTC
 Wed Jan 29 2014.
 The install operation will continue asynchronously.
 RP/0/RSP0/CPU0:ios#Info: The following packages are now available to be activated:
 Info:
 Info: disk0:asr9k-mini-px-6.0.2
 Info: disk0:asr9k-fpd-px-6.0.2
 Info: disk0:asr9k-mpls-px-6.0.2
 Info: disk0:asr9k-mcast-px-6.0.2
 Info: disk0:asr9k-mgbl-px-6.0.2
 Info: disk0:asr9k-k9sec-px-6.0.2
 Info: disk0:asr9k-9000v-nV-px-6.0.2
 Info:
 Info: The packages can be activated across the entire router.
 Info:
 Install operation 484 completed successfully at 22:26:29 UTC Wed Jan 29 2014.

RP/0/RSP0/CPU0:ios#admin install activate id 484
 Wed Jan 29 22:27:09.668 UTC
 Install operation 485 '(admin) install activate id 484' started by user 'admin'
 via CLI at 22:27:09 UTC Wed Jan 29 2014.
 Info: This operation will activate the following packages:
 Info: disk0:asr9k-9000v-nV-px-6.0.2
 Info: disk0:asr9k-k9sec-px-6.0.2
 Info: disk0:asr9k-mgbl-px-6.0.2
 Info: disk0:asr9k-mcast-px-6.0.2
 Info: disk0:asr9k-mpls-px-6.0.2
 Info: disk0:asr9k-fpd-px-6.0.2
 Info: disk0:asr9k-mini-px-6.0.2
 Info: This operation will reload the following nodes in parallel:
 Info: 0/RSP0/CPU0 (RP) (SDR: Owner)
 Info: 0/RSP1/CPU0 (RP) (SDR: Owner)
 Info: 0/0/CPU0 (LC) (SDR: Owner)
 Proceed with this install operation (y/n)? [y]
 Info: Install Method: Parallel Reload
 The install operation will continue asynchronously.
</pre></table></code></div></div><p>When activating PIEs to upgrade or downgrade a device’s software version, all activated PIEs must be replaced with their new versions simultaneously. The <code class="language-plaintext highlighter-rouge">admin install activate</code> command allows for the user to select multiple PIEs to facilitate this process.</p><p>PIE versions that are being replaced are automatically deactivated when the new PIE is activated. For example, when upgrading asr9k-fpd-px.pie-5.3.4 to asr9k-fpd-px.pie-6.0.2, asr9k-fpd-px.pie-5.3.4 is automatically deactivated when the <code class="language-plaintext highlighter-rouge">admin install activate disk0:asr9k-fpd-px.pie-6.0.2</code> command is executed. This only happens with PIEs; activating a SMU does not cause previous versions of the SMUs, or the package to which the SMU applies, to be automatically deactivated.</p><h3 id="deactivating-software-packages">Deactivating Software Packages</h3><p>Software packages can be manually deactivated to remove unnecessary functionality or bugfixes from the device. To do this, verify that the software package is currently active by ensuring it shows up under Active Packages in the output of <code class="language-plaintext highlighter-rouge">show install active summary</code>. Next, deactivate the software package with the <code class="language-plaintext highlighter-rouge">admin install deactivate disk0:package.pie</code> command, demonstrated below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
26
27
28
29
30
31
32
33
34
35
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#admin install deactivate disk0:asr9k-services-infra-6.1.2 disk0:asr9k-video-px-6.1.2 disk0:asr9k-services-px-6.1.2 disk0:asr9k-optic-px-6.1.2 disk0:asr9k-li-px-6.1.2 disk0:asr9k-doc-px-6.1.2 disk0:asr9k-bng-px-6.1.2
 Mon Nov 17 04:31:58.831 UTC
 Install operation 538 '(admin) install deactivate disk0:asr9k-services-infra-6.1.2 disk0:asr9k-video-px-6.1.2 disk0:asr9k-services-px-6.1.2 disk0:asr9k-optic-px-6.1.2 disk0:asr9k-li-px-6.1.2 disk0:asr9k-doc-px-6.1.2 disk0:asr9k-bng-px-6.1.2' started by user 'admin' via CLI at 04:31:59 UTC Mon Nov
 17 2014.
 Info: The following sequence of sub-operations has been determined to minimize any impact:
 Info:
 Info: Sub-operation 1:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-services-infra-6.1.2
 Info:
 Info: Sub-operation 2:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-li-px-6.1.2
 Info:
 Info: Sub-operation 3:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-services-px-6.1.2
 Info:
 Info: Sub-operation 4:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-video-px-6.1.2
 Info:
 Info: Sub-operation 5:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-optic-px-6.1.2
 Info:
 Info: Sub-operation 6:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-doc-px-6.1.2
 Info:
 Info: Sub-operation 7:
 Info: Install Method: Parallel Process Restart
 Info: asr9k-bng-px-6.1.2
 Info:
 The install operation will continue asynchronously.
</pre></table></code></div></div><h3 id="committing-software-packages">Committing Software Packages</h3><p>When a software package is activated, it is best practice to commit the change to the chassis so that the software package activation persists after a chassis reload. This is done by running the <code class="language-plaintext highlighter-rouge">admin install commit</code> command after the desired software packages have been activated and the chassis has reloaded. This is demonstrated below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre> RP/0/RSP0/CPU0:Nov 17 04:45:25.825 : instdir[255]: %INSTALL-INSTMGR-4-ACTIVE_SOFTWARE_COMMITTED_INFO : The currently active software is not committed. If the system reboots then the committed software will be used. Use 'install commit' to commit the active software.
 Install operation 538 completed successfully at 04:45:25 UTC Mon Nov 17 2014.

RP/0/RSP0/CPU0:ios#admin install commit
 Mon Nov 17 04:51:57.625 UTC
 Install operation 539 '(admin) install commit' started by user 'admin' via CLI at 04:51:58 UTC Mon Nov 17 2014.
 | 100% complete: The operation can no longer be aborted (ctrl-c for options)
 RP/0/RSP0/CPU0:Nov 17 04:52:06.522 : instdir[255]: %INSTALL-INSTMGR-4-ACTIVE_SOFTWARE_COMMITTED_INFO : The currently active software is now the same as the committed software.
 Install operation 539 completed successfully at 04:52:06 UTC Mon Nov 17 2014.
</pre></table></code></div></div><p>If you do not commit the software changes to the chassis, then a chassis reload will cause the chassis to revert to the previously-committed activated software packages. For example, if active software packages are upgraded from 5.3.4 to 6.1.4, but the <code class="language-plaintext highlighter-rouge">admin install commit</code> command is not run after the chassis reloads due to the upgrade, a subsequent chassis reload will result in the device reverting to 5.3.4 versions of the active software packages.</p><h2 id="turbobooting">Turbobooting</h2><p><em>Turbobooting</em> is a highly-disruptive disaster recovery procedure that provides a clean software installation on an IOS XR device. Turbobooting is only performed by modifying the configuration register of the device such that it boots into ROMMON, reloading the chassis, setting variables within ROMMON, and booting from the mini-vm image matching the desired software version via TFTP.</p><p>Keep in mind that turbobooting is a time-intensive method of modifying a device’s IOS XR software version and should only be used as a last resort.</p><p>Turbobooting can be performed on a device with a single RSP or dual RSPs. If a device has dual RSPs, only a single RSP needs to be turbobooted. The process below will assume that the IOS XR device being turbobooted has multiple RSPs.</p><p>First, verify that the mini-vm image matching the desired software version is uploaded to an FTP server that is reachable by the XR device. An example of the filename for the mini-vm image is <code class="language-plaintext highlighter-rouge">asr9k-mini-px.vm-5.3.4</code>, where the software version at the end of the filename matches the software version you desire the chassis to be running after the turbobooting process is complete.</p><p>Next, modify the configuration register of the device’s RSPs to 0x0 using the <code class="language-plaintext highlighter-rouge">admin config-register 0x0</code> command, as demonstrated below. This will cause all RSPs to drop into ROMMON when reloaded.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#admin config-register 0x0
 Sat Nov 18 02:47:31.597 UTC
 Successfully set config-register to 0x0 on node 0/RSP0/CPU0
 Successfully set config-register to 0x0 on node 0/RSP1/CPU0
</pre></table></code></div></div><p>Next, reload both RSPs using the <code class="language-plaintext highlighter-rouge">reload location all</code> command. The RSPs will be in ROMMON after reloading.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#admin reload location all
 Sat Nov 18 02:51:58.151 UTC

Preparing system for backup. This may take a few minutes especially for large configurations.
 Status report: node0_RSP0_CPU0: START TO BACKUP
 Status report: node0_RSP0_CPU0: BACKUP HAS COMPLETED SUCCESSFULLY
 [Done]
 Proceed with reload? [confirm]
 RP/0/RSP0/CPU0::This node received reload command. Reloading in 5 secs
</pre></table></code></div></div><p>All RSPs will reboot with a ROMMON prompt.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
</pre><td class="rouge-code"><pre> System Bootstrap, Version 0.76 [ASR9K x86 ROMMON],
 Copyright (c) 1994-2012 by Cisco Systems, Inc.
 Compiled on Mon 05/23/2016 20:19:29.12 by myekkar

Rommon : 0.76
 Ibex Peak : 6
 Jasper Forest: 1.0
 Zen-JF : 0.7.92
 CBC0 : Part 1=16.116, Part 2=16.115, Act Part=1
 Laguna : 0.11.0 (primary)
 Dao : 1.10.0 (primary)
 UTI : 4.9 (primary)
 Timex : 0.1.1 (primary)
 Board : 4
 ==========================================================
 rommon 1 &gt;
</pre></table></code></div></div><p>Next, set ROMMON variables on one of the RSPs to match your environment as follows:</p><ul><li><strong>IP_ADDRESS</strong> – The IP address of your RSP’s management port.<li><strong>IP_SUBNET_MASK</strong> – The subnet mask of the RSP’s management port.<li><strong>DEFAULT_GATEWAY</strong> – The default gateway of the RSP’s management port.<li><strong>TFTP_SERVER</strong> – The IP address of the TFTP server containing your mini-vm turboboot image.<li><strong>TURBOBOOT</strong> – Set this to “on,disk0,clean” to enable turbobooting and completely clean the disk0: storage device.</ul><p>Unset the BOOT statement using the <code class="language-plaintext highlighter-rouge">unset BOOT</code> command, then sync all changed boot variables using the sync command. Lastly, boot the mini-vm turboboot image using the <code class="language-plaintext highlighter-rouge">boot tftp://tftp_ip_address/turboboot_image</code> command.</p><p>These steps are demonstrated below:</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre> rommon 4 &gt; IP_ADDRESS=192.0.2.25
 rommon 5 &gt; IP_SUBNET_MASK=255.255.255.0
 rommon 6 &gt; DEFAULT_GATEWAY=192.0.2.1
 rommon 7 &gt; TFTP_SERVER=192.0.2.10
 rommon 8 &gt; TURBOBOOT=on,disk0,clean
 rommon 9 &gt; unset BOOT
 rommon 10 &gt; sync
 rommon 11 &gt; boot tftp://192.0.2.10/asr9k-mini-px.vm-6.0.2
</pre></table></code></div></div><p>The RSP will proceed to turboboot into the specified software version.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
</pre><td class="rouge-code"><pre>Beginning TFTP boot:
 TFTP server specified is:
 TFTP filename specified is: asr9k-mini-px.vm-6.0.2
 Selecting MGMT LAN 0 interface.

IP_ADDRESS: 192.0.2.25
 IP_SUBNET_MASK: 255.255.255.0
 DEFAULT_GATEWAY: 192.0.2.1
 TFTP_SERVER: 192.0.2.10
 TFTP_FILE: asr9k-mini-px.vm-6.0.2
 TFTP_MACADDR: 84:78:ac:75:1a:58
 TFTP_VERBOSE: Progress
 TFTP_RETRY_COUNT: 18
 TFTP_TIMEOUT: 7200
 TFTP_CHECKSUM: Yes
 ETHER_PORT: 3
 ETHER_SPEED_MODE: Auto Detect
 TFTP attempt 1 of 1
 GigE link up, waiting for ARP reply ...
 Receiving asr9k-mini-px.vm-6.0.2 from 192.0.2.10 !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 File reception completed.
</pre></table></code></div></div><p>After some time, the turbobooting RSP will reset the <code class="language-plaintext highlighter-rouge">TURBOBOOT</code> ROMMON variable, reset the configuration register to 0x2, and indicate an impending reload in 30 seconds. This is demonstrated below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
</pre><td class="rouge-code"><pre>Nov 20 22:09:19.759 : TURBOBOOT: Package copy operation is complete.
 Install operation 1 completed successfully at 22:09:19 UTC Mon Nov 20 2017.
 Nov 20 22:09:19.887 : TURBOBOOT: All node preparations complete:
 Node 0/RSP0/CPU0 successfully completed the preparation.
 Node 0/0/CPU0 successfully completed the preparation.

Nov 20 22:09:19.894 : TURBOBOOT: Resetting TURBOBOOT rommon variable to (TURBOBOOT=).
 Nov 20 22:09:21.470 : TURBOBOOT: Setting config-register to autoboot the router and disable send break.
 Nov 20 22:09:21.492 : TURBOBOOT: Turboboot completed successfully: the router will now reload from disk

Nov 20 22:09:21.492 : TURBOBOOT: *** RESETTING IN 30 SECONDS ***
</pre></table></code></div></div><p>The RSP will then reload, then boot into the desired IOS XR software version. Once the RSP has fully loaded into IOS XR and all other line cards (with the exception of the standby RSP) are in either <code class="language-plaintext highlighter-rouge">IOS XR RUN</code>, <code class="language-plaintext highlighter-rouge">READY</code>, or <code class="language-plaintext highlighter-rouge">OK</code>, the standby RSP must be brought online under the new version as well. This can be done by setting the configuration register to 0x2 in ROMMON, syncing the boot variable changes, and resetting the RSP as shown below.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
</pre><td class="rouge-code"><pre> rommon 1 &gt; unset BOOT
 rommon 2 &gt; confreg 0x2

nv_wr_confreg:val=0x2.
 writing 0x2 to confreg.
 You must reset or power cycle for new the new confreg value to take effect
 rommon 3 &gt; sync
 rommon 4 &gt; reset
</pre></table></code></div></div><p>The standby RSP will synchronize software packages with the active RSP, then boot into the desired IOS XR software version normally.</p><p>You can confirm that you have successfully turbobooted the chassis if the <code class="language-plaintext highlighter-rouge">show install active summary</code> command reveals that only the mini PIE is active, and if the <code class="language-plaintext highlighter-rouge">admin show platform</code> command reveals that all cards are in either <code class="language-plaintext highlighter-rouge">IOS XR RUN</code>, <code class="language-plaintext highlighter-rouge">READY</code>, or <code class="language-plaintext highlighter-rouge">OK</code> status.</p><div class="language-plaintext highlighter-rouge"><div class="code-header"> <span text-data=" Plaintext "><i class="fa-fw fas fa-code small"></i></span> <button aria-label="copy" title-succeed="Copied!"><i class="far fa-clipboard"></i></button></div><div class="highlight"><code><table class="rouge-table"><tbody><tr><td class="rouge-gutter gl"><pre class="lineno">1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23
24
25
</pre><td class="rouge-code"><pre>RP/0/RSP0/CPU0:ios#show install active summary
 Mon Nov 20 23:10:08.378 UTC
 Default Profile:
 SDRs:
 Owner
 Active Packages:
 disk0:asr9k-mini-px-6.0.2

RP/0/RSP0/CPU0:ios#admin show platf
 Mon Nov 20 23:09:31.157 UTC
 Node Type State Config State
 -----------------------------------------------------------------------------
 0/RSP0/CPU0 A9K-RSP440-TR(Active) IOS XR RUN PWR,NSHUT,MON
 0/RSP1/CPU0 A9K-RSP440-TR(Standby) IOS XR RUN PWR,NSHUT,MON
 0/FT0/SP ASR-9006-FAN READY
 0/FT1/SP ASR-9006-FAN READY
 0/0/CPU0 A9K-MOD160-SE IOS XR RUN PWR,NSHUT,MON
 0/0/0 A9K-MPA-8X10GE OK PWR,NSHUT,MON
 0/0/1 A9K-MPA-20X1GE OK PWR,NSHUT,MON
 0/1/CPU0 A9K-VSM-500 UNPOWERED NPWR,NSHUT,MON
 0/3/CPU0 A9K-VSM-500 UNPOWERED NPWR,NSHUT,MON
 0/PS0/M0/SP PWR-3KW-AC-V2 READY PWR,NSHUT,MON
 0/PS0/M1/SP PWR-3KW-AC-V2 READY PWR,NSHUT,MON
 0/PS0/M2/SP PWR-3KW-AC-V2 READY PWR,NSHUT,MON
 0/PS0/M3/SP PWR-3KW-AC-V2 READY PWR,NSHUT,MON
</pre></table></code></div></div><h2 id="ios-xr-software-upgradedowngrade-caveats">IOS XR Software Upgrade/Downgrade Caveats</h2><ul><li>All IOS XR software versions prior to 5.3.1 require the CSCut52232 SMU in order for additional SMUs to be installed. 5.3.1 and later are not affected by this defect and do not require the CSCut52232 SMU. The tar file filename for this SMU on CCO is <code class="language-plaintext highlighter-rouge">asr9k-px-5.1.2.CSCut52232.tar</code>.<li>In some instances, you may have to manually install the root certificate contained within the CSCut52232 SMU .tar file before installing the CSCut52232 SMU itself.</ul><h2 id="conclusion">Conclusion</h2><p>At this point, an individual who was previously unfamiliar with IOS XR software should be able to change the software version of an IOS XR device. Furthermore, if an IOS XR device is unstable due to software packages, or needs to undergo a drastic upgrade or downgrade, an individual should be able to successfully turboboot an IOS XR chassis.</p><p>I hope that you found this helpful or educational!</p></div><div class="post-tail-wrapper text-muted"><div class="post-tail-bottom d-flex justify-content-between align-items-center mt-3 pt-5 pb-2"><div class="license-wrapper"> This post is licensed under <a href="https://creativecommons.org/licenses/by/4.0/"> CC BY 4.0 </a> by the author.</div><div class="share-wrapper"> <span class="share-label text-muted mr-1">Share</span> <span class="share-icons"> <a href="https://twitter.com/intent/tweet?text=Basics of IOS XR Software - Christopher Hart&url=https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/" data-toggle="tooltip" data-placement="top" title="Twitter" target="_blank" rel="noopener" aria-label="Twitter"> <i class="fa-fw fab fa-twitter"></i> </a> <a href="https://www.facebook.com/sharer/sharer.php?title=Basics of IOS XR Software - Christopher Hart&u=https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/" data-toggle="tooltip" data-placement="top" title="Facebook" target="_blank" rel="noopener" aria-label="Facebook"> <i class="fa-fw fab fa-facebook-square"></i> </a> <a href="https://telegram.me/share?text=Basics of IOS XR Software - Christopher Hart&url=https://www.chrisjhart.com/Basics-Of-IOS-XR-Software/" data-toggle="tooltip" data-placement="top" title="Telegram" target="_blank" rel="noopener" aria-label="Telegram"> <i class="fa-fw fab fa-telegram"></i> </a> <i id="copy-link" class="fa-fw fas fa-link small" data-toggle="tooltip" data-placement="top" title="Copy link" title-succeed="Link copied successfully!"> </i> </span></div></div></div></div></div><div id="panel-wrapper" class="col-xl-3 pl-2 text-muted topbar-down"><div class="access"><div id="access-lastmod" class="post"> <span>Recent Update</span><ul class="post-content pl-0 pb-1 ml-1 mt-2"><li><a href="/Windows-10-ssh-copy-id/">Windows 10 OpenSSH Equivalent of ssh-copy-id</a></ul></div></div><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@1.0.1/dist/bootstrap-toc.min.js"></script><div id="toc-wrapper" class="pl-0 pr-4 mb-5"> <span class="pl-3 pt-2 mb-2">Contents</span><nav id="toc" data-toggle="toc"></nav></div></div></div><div class="row"><div class="col-12 col-lg-11 col-xl-8"><div id="post-extend-wrapper" class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-md-4 pr-md-4"><div id="related-posts" class="mt-5 mb-2 mb-sm-4"><h3 class="pt-2 mt-1 mb-4 ml-1" data-toc-skip>Further Reading</h3><div class="card-deck mb-4"><div class="card"> <a href="/How-Data-Plane-Traffic-Can-Become-Control-Plane-Traffic/"><div class="card-body"> <span class="timeago small" >Nov 21<i class="unloaded">2021-11-21T00:00:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>ICMP Redirects - How Data Plane Traffic Can Become Control Plane Traffic</h3><div class="text-muted small"><p> Note: If you are not familiar with the concepts of the data plane and control plane on network devices, I highly recommend reviewing my Understanding the Data, Control, and Management Planes of ...</p></div></div></a></div><div class="card"> <a href="/Understanding-Control-Plane-Packet-Loss-due-to-CoPP/"><div class="card-body"> <span class="timeago small" >Nov 13<i class="unloaded">2021-11-13T00:00:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Understanding Control Plane Packet Loss due to CoPP</h3><div class="text-muted small"><p> Note: If you are not familiar with the concepts of the data plane and control plane on network devices, I highly recommend reviewing my Understanding the Data, Control, and Management Planes of ...</p></div></div></a></div><div class="card"> <a href="/Understanding-Data-Control-Management-Planes/"><div class="card-body"> <span class="timeago small" >Nov 12<i class="unloaded">2021-11-12T00:00:00-05:00</i> </span><h3 class="pt-0 mt-1 mb-3" data-toc-skip>Understanding the Data, Control, and Management Planes of Network Devices</h3><div class="text-muted small"><p> While troubleshooting connectivity issues and packet loss in computer networks, network engineers often misunderstand the difference between the data plane and control plane. This can lead to fault...</p></div></div></a></div></div></div><div class="post-navigation d-flex justify-content-between"> <a href="/Auto-MDIX-Capabilities-On-Cisco-1800s-2800s-and-3800s/" class="btn btn-outline-primary" prompt="Older"><p>Auto-MDIX Capabilities on Cisco 1800s, 2800s, and 3800s</p></a> <a href="/Bridging-The-Gap-Frame-Relay/" class="btn btn-outline-primary" prompt="Newer"><p>Bringing The Gap - Frame Relay</p></a></div></div></div></div><footer class="d-flex w-100 justify-content-center"><div class="d-flex justify-content-between align-items-center"><div class="footer-left"><p class="mb-0"> © 2021 <a href="https://twitter.com/_ChrisJHart">Christopher Hart</a>. <span data-toggle="tooltip" data-placement="top" title="Except where otherwise noted, the blog posts on this site are licensed under the Creative Commons Attribution 4.0 International (CC BY 4.0) License by the author.">Some rights reserved.</span></p></div><div class="footer-right"><p class="mb-0"> Powered by <a href="https://jekyllrb.com" target="_blank" rel="noopener">Jekyll</a> with <a href="https://github.com/cotes2020/jekyll-theme-chirpy" target="_blank" rel="noopener">Chirpy</a> theme.</p></div></div></footer></div><div id="search-result-wrapper" class="d-flex justify-content-center unloaded"><div class="col-12 col-sm-11 post-content"><div id="search-hints"><h4 class="text-muted mb-4">Trending Tags</h4></div><div id="search-results" class="d-flex flex-wrap justify-content-center text-muted mt-3"></div></div></div></div><div id="mask"></div><a id="back-to-top" href="#" aria-label="back-to-top" class="btn btn-lg btn-box-shadow" role="button"> <i class="fas fa-angle-up"></i> </a> <script src="https://cdn.jsdelivr.net/npm/simple-jekyll-search@1.10.0/dest/simple-jekyll-search.min.js"></script> <script> SimpleJekyllSearch({ searchInput: document.getElementById('search-input'), resultsContainer: document.getElementById('search-results'), json: '/assets/js/data/search.json', searchResultTemplate: '<div class="pl-1 pr-1 pl-sm-2 pr-sm-2 pl-lg-4 pr-lg-4 pl-xl-0 pr-xl-0"> <a href="{url}">{title}</a><div class="post-meta d-flex flex-column flex-sm-row text-muted mt-1 mb-1"> {categories} {tags}</div><p>{snippet}</p></div>', noResultsText: '<p class="mt-5">Oops! No result founds.</p>', templateMiddleware: function(prop, value, template) { if (prop === 'categories') { if (value === '') { return `${value}`; } else { return `<div class="mr-sm-4"><i class="far fa-folder fa-fw"></i>${value}</div>`; } } if (prop === 'tags') { if (value === '') { return `${value}`; } else { return `<div><i class="fa fa-tag fa-fw"></i>${value}</div>`; } } } }); </script> <script src="https://cdn.jsdelivr.net/combine/npm/lozad/dist/lozad.min.js,npm/magnific-popup@1/dist/jquery.magnific-popup.min.js,npm/clipboard@2/dist/clipboard.min.js"></script> <script defer src="/assets/js/dist/post.min.js"></script> <script src="https://cdn.jsdelivr.net/combine/npm/popper.js@1.16.1,npm/bootstrap@4/dist/js/bootstrap.min.js"></script> <script defer src="/app.js"></script>
